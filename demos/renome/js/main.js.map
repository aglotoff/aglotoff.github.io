{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/blocks/common/header/header.js","webpack:///./src/js/utils.js","webpack:///./src/blocks/common/nav/nav.js","webpack:///./src/blocks/portfolio/portfolio-filter/portfolio-filter.js","webpack:///./src/blocks/portfolio/portfolio-grid/portfolio-grid.js","webpack:///./src/blocks/common/tabs/tabs.js","webpack:///./src/blocks/contact/map/map.js","webpack:///./src/blocks/reservation/reservation-form/reservation-form.js","webpack:///./src/blocks/index/slider/slider.js","webpack:///./src/blocks/index/specials-slider/specials-slider.js","webpack:///./src/blocks/portfolio/portfolio/portfolio.js","webpack:///./src/blocks/shop/product-gallery/product-gallery.js","webpack:///./src/blocks/common/mini-cart/mini-cart.js","webpack:///./src/blocks/shop/checkout/checkout.js","webpack:///./src/blocks/shop/product/product.js","webpack:///./src/blocks/common/page/page.js","webpack:///./src/blocks/common/search/search.js","webpack:///./src/blocks/about/about-gallery/about-gallery.js","webpack:///./src/blocks/contact/contact-form/contact-form.js","webpack:///./src/blocks/index/gallery/gallery.js","webpack:///./src/blocks/menu/menu/menu.js","webpack:///./src/blocks/portfolio/project-slider/project-slider.js","webpack:///./src/blocks/blog/blog-gallery/blog-gallery.js","webpack:///./src/blocks/blog/share/share.js","webpack:///./src/blocks/blog/comment/comment.js","webpack:///./src/blocks/blog/comment-form/comment-form.js","webpack:///./src/blocks/shop/payment/payment.js","webpack:///./src/blocks/shop/review-form/review-form.js","webpack:///./src/blocks/shop/shipping-calc/shipping-calc.js","webpack:///./src/blocks/shop/shop-filter/shop-filter.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","$nav","$menuToggle","$menu","$scrollpanes","$submenus","menuDrilldown","$portfolio","$filter","$inner","$toggle","$list","$btns","dropdownLogic","listboxLogic","$grid","$container","$sizer","$document","$","document","dropdownProto","_onOutsideClick","event","target","this","_$container","is","contains","hide","_onSwitcherClick","_isExpanded","show","_onSwitcherKeydown","which","preventDefault","_onSwitcherKeyup","_onKeydown","_$switcher","focus","_this","setTimeout","on","click","focusin","_onToggle","off","pause","keydown","keyup","_hoverToggles","mouseenter","_onMouseenter","mouseleave","_onMouseleave","unpause","hover","makeDropdown","$switcher","options","dropdown","onToggle","hoverToggles","drilldownChain","activeDrilldown","drilldownProto","_onDocumentClick","_onToggleClick","_onTrapDeactivate","length","prevDrilldown","pop","_trap","_this2","push","activate","deactivate","_$toggle","makeDrilldown","drilldown","focusTrap","clickOutsideDeactivates","escapeDeactivates","initialFocus","onDeactivate","listboxProto","keyActions","_orientation","verticalKeyActions","horizontalKeyActions","firstTab","selectItem","lastTab","_$items","prevTab","nextIndex","_activeIndex","nextTab","_onSelect","setOrientation","orientation","_defineProperty","_verticalKeyActions","_horizontalKeyActions","makeListbox","$items","listbox","onSelect","each","isMobile","toggleMenu","open","toggleClass","scrollTop","attr","String","initModule","find","$submenu","$submenuToggle","prev","$parentItem","closest","$submenuClose","first","$firstLink","not","onSubmenuToggle","drilldownLogic","data","targetId","$target","animate","Math","max","offset","top","verticalLayout","allTabs","tabsProto","_onTabSelect","next","$prevLink","_$links","eq","$prevPanel","_$panels","$nextLink","$nextPanel","removeClass","aria-selected","tabindex","addClass","_$list","_logic","coords","lat","lng","style","featureType","elementType","stylers","color","lightness","weight","visibility","saturation","openingHours","start","end","updateTimeSelect","$time","startMoment","timeArray","hours","day","moment","hour","format","add","getAvailableTimes","selectedTime","val","$options","map","time","text","prop","empty","append","trigger","initSelect","$select","select2","theme","width","minimumResultsForSearch","Infinity","$selection","currentMoment","minutes","year","month","date","$form","$date","$people","Pikaday","field","defaultDate","toDate","setDefaultDate","minDate","maxDate","getMoment","validate","rules","required","validDate","errorClass","highlight","element","unhighlight","onSlickBeforeChange","slick","current","$slides","sliderProto","applySlideStyles","$slide","order","_this$_params","_params","dOffset","dOpacity","dScale","css","left","opacity","transform","concat","zIndex","_$slides","updateStyles","total","slide","hasClass","prevSlide","_isSliding","activeIndex","$prevSlide","$movingSlide","nextSlide","_this3","onFilterSelect","$prevBtn","$nextBtn","activeFilter","onListClick","onListKeydown","onToggleFocusin","onDropdownToggle","shuffleInstance","createPortfolioItem","$item","categories","join","title","link","src","image","alt","$categories","cat","$catItem","$catLink","href","role","data-filter","toLowerCase","$moreBtn","$gallery","$slider","$links","$page","$minicart","fakeItems","onFilterChange","filter","sel","index","PortfolioFilter","PortfolioGrid","onMoreBtnClick","$d","$loader","insertAfter","Deferred","resolve","items","more","promise","then","response","_$","when","apply","_toConsumableArray","item","Image","newItems","forEach","insertBefore","fail","always","remove","Shuffle","itemSelector","sizer","onCheckboxChange","slideToggle","onAddBtnClick","onProductFocusin","onProductFocusout","onSliderBeforechange","currentSlide","$link","onLinkClick","HeaderStates","headerState","$header","isHeaderTransparent","resizeTimer","scrollTimer","wasScrolled","onWindowScroll","newState","window","onWindowResize","screenWidth","outerWidth","Portfolio","tab","resize","clearTimeout","scroll","Nav","$search","$close","popupFocusTrap","Search","tabs","magnificPopup","delegate","mainClass","gallery","enabled","tCounter","closeMarkup","arrowMarkup","callbacks","beforeOpen","wrap","aria-label","google","maps","Map","zoom","center","disableDefaultUI","mapTypes","set","StyledMapType","setMapTypeId","Marker","position","setIcon","type","ReservationForm","$prevArrow","$nextArrow","rows","prevArrow","nextArrow","autoplay","autoplaySpeed","cssEase","fade","speed","pauseOnFocus","pauseOnHover","slider","steps","dots","responsive","breakpoint","settings","$share","$drop","$commentForm","id","prependTo","Comment","$replyTo","CommentForm","change","ignore","errorPlacement","error","prepend","$payment","$radios","$desc","slideUp","slideDown","Payment","$product","focusout","arrows","ReviewForm","$calc","$country","formExpanded","placeholder","ShippingCalc","removeAttr","ShopFilter"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 423);\n","/**\r\n * @file Implementation of the header block\r\n * @author Andrey Glotov\r\n */\r\n\r\n// --------------------------- BEGIN PUBLIC METHODS ---------------------------\r\n/**\r\n * Initialize the header module.\r\n * @return true\r\n */\r\nexport const initModule = function() {\r\n    const $page         = $('.page');\r\n    const $searchToggle = $('.header__search-toggle');\r\n\r\n    $searchToggle.click(function onSearchToggle() {\r\n        $page.trigger('search');\r\n    });\r\n};\r\n// ---------------------------- END PUBLIC METHODS ----------------------------\r\n","/**\r\n * @file Miscellaneous utility functions and classes\r\n * @author Andrey Glotov\r\n */\r\n\r\n/* global focusTrap */\r\n\r\nconst KEY_ESC   = 27;\r\nconst KEY_SPACE = 32;\r\nconst KEY_END   = 35;\r\nconst KEY_HOME  = 36;\r\nconst KEY_LEFT  = 37;\r\nconst KEY_UP    = 38;\r\nconst KEY_RIGHT = 39;\r\nconst KEY_DOWN  = 40;\r\n\r\nconst $document = $(document);\r\n\r\nconst dropdownProto = {\r\n    _onOutsideClick(event) {\r\n        const target = event.target;\r\n        if (!(\r\n            target === document\r\n            || this._$container.is($(target))\r\n            || $.contains(this._$container.get(0), target)\r\n        )) {\r\n            this.hide();\r\n        }\r\n    },\r\n\r\n    _onSwitcherClick() {\r\n        if (!this._isExpanded) {\r\n            this.show();\r\n        } else {\r\n            this.hide();\r\n        }\r\n    },\r\n\r\n    _onSwitcherKeydown(event) {\r\n        if (event.which === KEY_SPACE) {\r\n            event.preventDefault();\r\n            \r\n            if (!this._isExpanded) {\r\n                this.show();\r\n            } else {\r\n                this.hide();\r\n            }\r\n        }\r\n    },\r\n\r\n    _onSwitcherKeyup(event) {\r\n        if (event.which === KEY_SPACE) {\r\n            event.preventDefault();\r\n        }\r\n    },\r\n\r\n    _onKeydown(event) {\r\n        if (event.which === KEY_ESC) {\r\n            this.hide();\r\n            this._$switcher.focus();\r\n        }\r\n    },\r\n\r\n    show() {\r\n        this._isExpanded = true;\r\n\r\n        setTimeout(() => {\r\n            $document.on({\r\n                click   : this._onOutsideClick,\r\n                focusin : this._onOutsideClick,\r\n            });\r\n            this._$container.on('keydown', this._onKeydown);\r\n\r\n            if (this._onToggle) {\r\n                this._onToggle(true);\r\n            }\r\n        }, 0);\r\n\r\n        return this;\r\n    },\r\n\r\n    hide() {\r\n        this._isExpanded = false;\r\n\r\n        $document.off({\r\n            click   : this._onOutsideClick,\r\n            focusin : this._onOutsideClick,\r\n        });\r\n        this._$container.off('keydown', this._onKeydown);\r\n\r\n        if (this._onToggle) {\r\n            this._onToggle(false);\r\n        }\r\n\r\n        return this;\r\n    },\r\n\r\n    pause() {\r\n        this._$switcher\r\n            .off({\r\n                click   : this._onSwitcherClick,\r\n                keydown : this._onSwitcherKeydown,\r\n                keyup   : this._onSwitcherKeyup,\r\n            });\r\n\r\n        if (this._hoverToggles) {\r\n            this._$container.off({\r\n                mouseenter : this._onMouseenter,\r\n                mouseleave : this._onMouseleave,\r\n            });\r\n        }\r\n\r\n        return this;\r\n    },\r\n\r\n    unpause() {\r\n        this._$switcher\r\n            .click(this._onSwitcherClick)\r\n            .keydown(this._onSwitcherKeydown)\r\n            .keyup(this._onSwitcherKeyup);\r\n\r\n        if (this._hoverToggles) {\r\n            this._$container.hover(this._onMouseenter, this._onMouseleave);\r\n        }\r\n\r\n        return this;\r\n    },\r\n};\r\n\r\nexport const makeDropdown = function($container, $switcher, options) {\r\n    const dropdown = Object.create(dropdownProto);\r\n\r\n    dropdown._$container   = $container;\r\n    dropdown._$switcher    = $switcher;\r\n    dropdown._onToggle     = options.onToggle;\r\n    dropdown._hoverToggles = !!options.hoverToggles;\r\n    dropdown._isExpanded   = false;\r\n\r\n    // Bind the event handlers\r\n    dropdown._onOutsideClick    = dropdown._onOutsideClick.bind(dropdown);\r\n    dropdown._onSwitcherClick   = dropdown._onSwitcherClick.bind(dropdown);\r\n    dropdown._onSwitcherKeydown = dropdown._onSwitcherKeydown.bind(dropdown);\r\n    dropdown._onSwitcherKeyup   = dropdown._onSwitcherKeyup.bind(dropdown);\r\n    dropdown._onKeydown         = dropdown._onKeydown.bind(dropdown);\r\n\r\n    if (options.hoverToggles) {\r\n        dropdown._onMouseenter = dropdown.show.bind(dropdown);\r\n        dropdown._onMouseleave = dropdown.hide.bind(dropdown);\r\n    }\r\n\r\n    dropdown.unpause();\r\n\r\n    return dropdown;\r\n};\r\n\r\n\r\nconst drilldownChain = [];\r\nlet activeDrilldown  = null;\r\n\r\nconst drilldownProto = {\r\n    _onDocumentClick(event) {\r\n        if (!$.contains(this._$container.get(0), event.target)) {\r\n            this.hide();\r\n        }\r\n    },\r\n\r\n    _onToggleClick() {\r\n        if (this._isExpanded) {\r\n            this.hide();\r\n        } else {\r\n            this.show();\r\n        }\r\n    },\r\n\r\n    _onTrapDeactivate() {\r\n        $document.off('click', this._onDocumentClick);\r\n\r\n        if (drilldownChain.length !== 0) {\r\n            const prevDrilldown = drilldownChain.pop();\r\n\r\n            if (prevDrilldown._isExpanded) {\r\n                activeDrilldown = prevDrilldown;\r\n                activeDrilldown._trap.unpause();\r\n            }\r\n        } else {\r\n            activeDrilldown = null;\r\n        }\r\n\r\n        this._isExpanded = false;\r\n\r\n        if (this._onToggle) {\r\n            this._onToggle(false);\r\n        }\r\n    },\r\n\r\n    show() {\r\n        this._isExpanded = true;\r\n\r\n        if (activeDrilldown) {\r\n            activeDrilldown._trap.pause();\r\n            drilldownChain.push(activeDrilldown);\r\n        }\r\n\r\n        activeDrilldown = this;\r\n\r\n        if (this._onToggle) {\r\n            this._onToggle(true);\r\n        }\r\n\r\n        this._trap.activate();\r\n\r\n        setTimeout(() => {\r\n            $document.click(this._onDocumentClick);\r\n        }, 0);\r\n\r\n        return this;\r\n    },\r\n\r\n    hide() {\r\n        this._trap.deactivate();\r\n        return this;\r\n    },\r\n\r\n    pause() {\r\n        this._$toggle.off('click', this._onToggleClick);\r\n        return this;\r\n    },\r\n\r\n    unpause() {\r\n        this._$toggle.click(this._onToggleClick);\r\n        return this;\r\n    },\r\n};\r\n\r\nexport const makeDrilldown = function($container, $toggle, options) {\r\n    const drilldown = Object.create(drilldownProto);\r\n\r\n    drilldown._$container = $container;\r\n    drilldown._$toggle    = $toggle;\r\n    drilldown._onToggle   = options.onToggle;\r\n\r\n    drilldown._trap = new focusTrap($container.get(0), {\r\n        clickOutsideDeactivates : true,\r\n        escapeDeactivates       : true,\r\n\r\n        initialFocus            : options.initialFocus,\r\n        onDeactivate            : drilldown._onTrapDeactivate.bind(drilldown),\r\n    });\r\n\r\n    drilldown._onToggleClick   = drilldown._onToggleClick.bind(drilldown);\r\n    drilldown._onDocumentClick = drilldown._onDocumentClick.bind(drilldown);\r\n\r\n    drilldown.unpause();\r\n\r\n    return drilldown;\r\n};\r\n\r\n\r\nconst listboxProto = {\r\n    _onKeydown(event) {\r\n        const key = event.which;\r\n\r\n        const keyActions = (this._orientation === 'vertical')\r\n            ? verticalKeyActions\r\n            : horizontalKeyActions;\r\n        \r\n        if (keyActions[key]) {\r\n            keyActions[key].call(this);\r\n            return false;\r\n        }\r\n    },\r\n\r\n    firstTab() {\r\n        this.selectItem(0);\r\n    },\r\n\r\n    lastTab() {\r\n        this.selectItem(this._$items.length - 1);\r\n    },\r\n\r\n    prevTab() {\r\n        let nextIndex = this._activeIndex - 1;\r\n        if (nextIndex < 0) {\r\n            nextIndex = this._$items.length - 1;\r\n        }\r\n\r\n        this.selectItem(nextIndex);\r\n    },\r\n\r\n    nextTab() {\r\n        let nextIndex = this._activeIndex + 1;\r\n        if (nextIndex >= this._$items.length) {\r\n            nextIndex = 0;\r\n        }\r\n\r\n        this.selectItem(nextIndex);\r\n    },\r\n\r\n    selectItem(nextIndex) {\r\n        if (this._activeIndex === nextIndex) {\r\n            return;\r\n        }\r\n\r\n        if (this._onSelect) {\r\n            this._onSelect(nextIndex, this._activeIndex);\r\n        }\r\n\r\n        this._activeIndex = nextIndex;\r\n    },\r\n\r\n    setOrientation(orientation) {\r\n        this._orientation = orientation;\r\n    }\r\n};\r\n\r\nconst verticalKeyActions   = {\r\n    [KEY_END]   : listboxProto.lastTab,\r\n    [KEY_HOME]  : listboxProto.firstTab,\r\n    [KEY_UP]    : listboxProto.prevTab,\r\n    [KEY_DOWN]  : listboxProto.nextTab,\r\n};\r\nconst horizontalKeyActions = {\r\n    [KEY_END]   : listboxProto.lastTab,\r\n    [KEY_HOME]  : listboxProto.firstTab,\r\n    [KEY_LEFT]  : listboxProto.prevTab,\r\n    [KEY_RIGHT] : listboxProto.nextTab,\r\n};\r\n\r\nexport const makeListbox = function($container, $items, options) {\r\n    const listbox = Object.create(listboxProto);\r\n\r\n    listbox._$container  = $container;\r\n    listbox._$items      = $items;\r\n    listbox._activeIndex = 0;\r\n    listbox._onSelect    = options.onSelect,\r\n    listbox._onKeydown   = listbox._onKeydown.bind(listbox);\r\n\r\n    $container.keydown(listbox._onKeydown);\r\n    \r\n    $items.each(function(i) {\r\n        $(this).click(function(event) {\r\n            event.preventDefault();\r\n\r\n            listbox.selectItem(i);\r\n        });\r\n    });\r\n\r\n    listbox.setOrientation(options.orientation || 'horizontal');\r\n\r\n    return listbox;\r\n};","/**\r\n * @file Implementation of the navigation block\r\n * @author Andrey Glotov\r\n */\r\n\r\nimport {makeDropdown, makeDrilldown} from '../../../js/utils';\r\n\r\n// -------------------------- BEGIN MODULE VARIABLES --------------------------\r\nconst DESKTOP_BREAKPOINT = 992;  // Minimum desktop screen width\r\n\r\nlet $nav, $menuToggle, $menu, $scrollpanes, $submenus;\r\nlet menuDrilldown;\r\n\r\nlet isMobile = true;\r\n// --------------------------- END MODULE VARIABLES ---------------------------\r\n\r\n// ----------------------------- BEGIN DOM METHODS ----------------------------\r\nconst toggleMenu = function(open) {\r\n    $menu.toggleClass('nav__menu_visible', open);\r\n    $scrollpanes.scrollTop(0);\r\n\r\n    $menuToggle\r\n        .toggleClass('hamburger_open', open)\r\n        .attr('aria-expanded', String(open));\r\n};\r\n\r\nconst toggleSubmenu = function toggleSubmenu($submenu, $toggle, open) {\r\n    $submenu.toggleClass('nav__submenu_visible', open);\r\n    $toggle.attr('aria-expanded', String(open));\r\n};\r\n// ------------------------------ END DOM METHODS -----------------------------\r\n\r\n// ---------------------------- BEGIN PUBLIC METHODS --------------------------\r\n/**\r\n * Initialize the navigation block.\r\n * @return true\r\n */\r\nexport const initModule = function() {\r\n    $nav         = $('.nav');\r\n    $menuToggle  = $nav.find('.nav__toggle');\r\n    $menu        = $nav.find('.nav__menu');\r\n    $scrollpanes = $menu.find('.nav__scrollpane');\r\n    $submenus    = $nav.find('.nav__submenu');\r\n\r\n    menuDrilldown = makeDrilldown($nav, $menuToggle, {\r\n        onToggle: toggleMenu,\r\n    });\r\n\r\n    // begin initialize submenus\r\n    $submenus.each(function() {\r\n        const $submenu       = $(this);\r\n        const $submenuToggle = $submenu.prev('.nav__link');\r\n        const $parentItem    = $submenu.closest('.nav__item');\r\n        const $submenuClose  = $submenu.find('.nav__link_back').first();\r\n        const $firstLink     = $submenu\r\n            .find('.nav__link')\r\n            .not('.nav__link_back')\r\n            .first();\r\n\r\n        const onSubmenuToggle = toggleSubmenu.bind(\r\n            null,\r\n            $submenu,\r\n            $submenuToggle\r\n        );\r\n\r\n        // Each submenu has two behavior patterns: drilldown menu for mobile\r\n        // and dropdown menu for larger screens.\r\n        const dropdownLogic  = makeDropdown($parentItem, $submenuToggle, {\r\n            hoverToggles : true,\r\n            onToggle     : onSubmenuToggle,\r\n        });\r\n        // By default, turn off the dropdown logic (mobile-first approach)\r\n        dropdownLogic.pause();\r\n\r\n        const drilldownLogic = makeDrilldown($submenu, $submenuToggle, {\r\n            initialFocus : $firstLink,\r\n            onToggle     : onSubmenuToggle,\r\n        });\r\n\r\n        $submenuClose.click(function onSubmenuClose() {\r\n            drilldownLogic.hide();\r\n        });\r\n\r\n        $submenu.data('dropdown',  dropdownLogic);\r\n        $submenu.data('drilldown', drilldownLogic);\r\n    });\r\n\r\n    // Scroll smoothly to internal links\r\n    $nav.on('click', '.nav__link[href^=\"#\"]', function onInternalLink(event) {\r\n        event.preventDefault();\r\n\r\n        const targetId = $(this).attr('href');\r\n        const $target  = $(targetId);\r\n        if ($target.length === 0) {\r\n            return;\r\n        }\r\n\r\n        if (isMobile) {\r\n            $submenus.each(function() {\r\n                $(this).data('drilldown').hide();\r\n            });\r\n            menuDrilldown.hide();\r\n        }\r\n\r\n        $('html, body').animate({\r\n            scrollTop: Math.max(0, $target.offset().top - 100),\r\n        }, 1000, 'swing', function() {\r\n            $target.focus();\r\n        });\r\n    });\r\n    // end initialize submenus\r\n};\r\n\r\n/**\r\n * Respond to window resize event.\r\n */\r\nexport const handleResize = function() {\r\n    // Switch between drilldown submenus on mobile and dropdown submenus on\r\n    // desktop\r\n    if (!isMobile && ($(window).outerWidth() < DESKTOP_BREAKPOINT)) {\r\n        isMobile = true;\r\n\r\n        $submenus.each(function() {\r\n            $(this).data('dropdown').hide().pause();\r\n            $(this).data('drilldown').unpause();\r\n        });\r\n    } else if (isMobile && ($(window).outerWidth() >= DESKTOP_BREAKPOINT)) {\r\n        isMobile = false;\r\n\r\n        $submenus.each(function() {\r\n            $(this).data('drilldown').hide().pause();\r\n            $(this).data('dropdown').unpause();\r\n        });\r\n\r\n        menuDrilldown.hide();\r\n    }\r\n};\r\n// ----------------------------- END PUBLIC METHODS ---------------------------\r\n","/**\r\n * @file Implementation of the portfolio filter block\r\n * @author Andrey Glotov\r\n */\r\n\r\nimport {makeListbox, makeDropdown} from '../../../js/utils';\r\n\r\n// -------------------------- BEGIN MODULE VARIABLES --------------------------\r\nconst KEY_ENTER = 13;\r\nconst KEY_SPACE = 32;\r\n\r\nlet $portfolio, $filter, $inner, $toggle, $list, $btns;\r\n\r\nlet dropdownLogic, listboxLogic;\r\n// --------------------------- END MODULE VARIABLES ---------------------------\r\n\r\n// ----------------------------- BEGIN DOM METHODS ----------------------------\r\nconst showList = function() {\r\n    $toggle\r\n        .attr('aria-expanded', 'true')\r\n        .focusin(onToggleFocusin);\r\n\r\n    $list\r\n        .addClass('portfolio-filter__list_visible')\r\n        .click(onListClick)\r\n        .keydown(onListKeydown)\r\n        .focus();\r\n};\r\n\r\nconst hideList = function() {\r\n    $list\r\n        .removeClass('portfolio-filter__list_visible')\r\n        .off({\r\n            click   : onListClick,\r\n            keydown : onListKeydown,\r\n        });\r\n\r\n    $toggle\r\n        .attr('aria-expanded', 'false')\r\n        .off('focusin', onToggleFocusin);\r\n};\r\n// ------------------------------ END DOM METHODS -----------------------------\r\n\r\n// --------------------------- BEGIN EVENT HANDLERS ---------------------------\r\nconst onFilterSelect = function(next, prev) {\r\n    const $prevBtn = $btns.eq(prev);\r\n    const $nextBtn = $btns.eq(next);\r\n\r\n    $prevBtn\r\n        .removeClass('portfolio-filter__btn_active')\r\n        .attr('aria-selected', 'false');\r\n    $nextBtn\r\n        .addClass('portfolio-filter__btn_active')\r\n        .attr('aria-selected', 'true');\r\n\r\n    const activeFilter = $nextBtn.data('filter');\r\n\r\n    $list.attr('aria-activedescendant', $nextBtn.attr('id'));\r\n\r\n    $portfolio.trigger('filter', activeFilter);\r\n};\r\n\r\nconst onListClick = function() {\r\n    $toggle.focus();\r\n};\r\n\r\nconst onListKeydown = function(event) {\r\n    if (event.which === KEY_ENTER || event.which === KEY_SPACE) {\r\n        event.preventDefault();\r\n\r\n        $toggle.focus();\r\n        return false;\r\n    }\r\n};\r\n\r\nconst onToggleFocusin = function() {\r\n    dropdownLogic.hide();\r\n};\r\n\r\nconst onDropdownToggle = function(open) {\r\n    if (open) {\r\n        showList();\r\n    } else {\r\n        hideList();\r\n    }\r\n};\r\n// ---------------------------- END EVENT HANDLERS ----------------------------\r\n\r\n// --------------------------- BEGIN PUBLIC METHODS ---------------------------\r\n/**\r\n * Initialize the portfolio filter module.\r\n * @return true\r\n */\r\nexport const initModule = function() {\r\n    $portfolio = $('.portfolio');\r\n\r\n    $filter    = $('.portfolio-filter');\r\n    $inner     = $filter.find('.portfolio-filter__inner');\r\n    $toggle    = $inner.find('.portfolio-filter__toggle');\r\n    $list      = $inner.find('.portfolio-filter__list');\r\n    $btns      = $list.find('.portfolio-filter__btn');\r\n\r\n    listboxLogic = makeListbox($list, $btns, {\r\n        orientation : 'vertical',\r\n        onSelect    : onFilterSelect,\r\n    });\r\n\r\n    dropdownLogic = makeDropdown($inner, $toggle, {\r\n        onToggle: onDropdownToggle,\r\n    });\r\n\r\n    return true;\r\n};\r\n\r\n/**\r\n * Set filter orientation.\r\n * @param {string} orientation - 'horizontal' or 'vertical'\r\n */\r\nexport const setOrientation = function(orientation) {\r\n    $list.attr('aria-orientation', orientation);\r\n    listboxLogic.setOrientation(orientation);\r\n\r\n    if (orientation === 'horizontal') {\r\n        dropdownLogic.hide().pause();\r\n    } else {\r\n        dropdownLogic.unpause();\r\n    }\r\n};\r\n\r\n/**\r\n * Apply a filter.\r\n * @param {string} filter - The filter to be applied\r\n */\r\nexport const setFilter = function(filter) {\r\n    const sel = `.portfolio-filter__btn[data-filter=\"${filter}\"]`;\r\n    listboxLogic.selectItem($btns.index($(sel)));\r\n};\r\n// ---------------------------- END PUBLIC METHODS ----------------------------\r\n","/**\r\n * @file Implementation of the portfolio grid block\r\n * @author Andrey Glotov\r\n */\r\n\r\n/* global Shuffle */\r\n\r\n// -------------------------- BEGIN MODULE VARIABLES --------------------------\r\nconst itemHtml = `\r\n<div class=\"portfolio-grid__item\">\r\n    <div class=\"portfolio-grid__item-inner\">\r\n        <img class=\"portfolio-grid__img\" />\r\n        <div class=\"portfolio-grid__text\">\r\n            <h2 class=\"portfolio-grid__title\">\r\n                <a class=\"portfolio-grid__link\"></a>\r\n            </h2>\r\n            <ul class=\"portfolio-grid__cats\">\r\n            </ul>\r\n        </div>\r\n    </div>\r\n</div>\r\n`;\r\n\r\nlet shuffleInstance = null;\r\n\r\nlet $portfolio, $grid, $container, $sizer;\r\n// --------------------------- END MODULE VARIABLES ---------------------------\r\n\r\n// -------------------------- BEGIN UTILITY FUNCTIONS -------------------------\r\nconst createPortfolioItem = function(data) {\r\n    const $item = $(itemHtml);\r\n\r\n    $item.attr('data-groups', `[\"${data.categories.join('\",\"')}\"]`);\r\n    \r\n    $item.find('.portfolio-grid__link')\r\n        .text(data.title)\r\n        .attr('href', data.link);\r\n\r\n    $item.find('.portfolio-grid__img')\r\n        .attr({\r\n            src : data.image,\r\n            alt : data.title,\r\n        });\r\n\r\n    const $categories = data.categories.map(function(cat) {\r\n        const $catItem = $('<li></li>')\r\n            .addClass('portfolio-grid__cat-item');\r\n\r\n        const $catLink = $('<a></a>')\r\n            .addClass('portfolio-grid__cat-link')\r\n            .attr({\r\n                'href'        : 'javascript:void(0)',\r\n                'role'        : 'button',\r\n                'data-filter' : cat.toLowerCase(),\r\n            })\r\n            .text(cat);\r\n        \r\n        $catItem.append($catLink);\r\n        return $catItem;\r\n    });\r\n\r\n    $item.find('.portfolio-grid__cats').append($categories);\r\n\r\n    return $item;\r\n};\r\n// --------------------------- END UTILITY FUNCTIONS --------------------------\r\n\r\n// --------------------------- BEGIN PUBLIC METHODS ---------------------------\r\n/**\r\n * Initialize the portfolio grid module.\r\n * @return true\r\n */\r\nexport const initModule = function() {\r\n    $portfolio = $('.portfolio');\r\n\r\n    $grid      = $('.portfolio-grid');\r\n    $container = $grid.find('.portfolio-grid__inner');\r\n    $sizer     = $container.find('.portfolio-grid__sizer');\r\n\r\n    shuffleInstance = new Shuffle($container.get(0), {\r\n        itemSelector : '.portfolio-grid__item',\r\n        sizer        : $sizer.get(0),\r\n    });\r\n\r\n    $container\r\n        .on('click', '.portfolio-grid__cat-link', function onCatLinkClick() {\r\n            $portfolio.trigger('filter', $(this).data('filter'));\r\n        })\r\n        // Until all major browsers support the :focus-within CSS pseudo-class\r\n        // apply a class using JavaScript\r\n        .on('focusin', '.portfolio-grid__text', function onItemFocusin() {\r\n            $(this).addClass('.portfolio-grid__text_has-focus');\r\n        })\r\n        .on('focusout', '.portfolio-grid__text', function onItemFocusout() {\r\n            $(this).removeClass('.portfolio-grid__text_has-focus');\r\n        });\r\n};\r\n\r\n/**\r\n * Apply a filter.\r\n * @param {string} filter - The filter to be applied\r\n */\r\nexport const setFilter = function(filter) {\r\n    shuffleInstance.filter(filter);\r\n};\r\n\r\n/**\r\n * Add new items\r\n * @param {Array} items - the items to be added\r\n */\r\nexport const addItems = function(items) {\r\n    const newItems = $.map(items, createPortfolioItem);\r\n    \r\n    newItems.forEach(($item) => $item.insertBefore($sizer));\r\n\r\n    shuffleInstance.add(newItems.map(($item) => $item.get(0)));\r\n};\r\n// ---------------------------- END PUBLIC METHODS ----------------------------\r\n","/**\r\n * @file Implementation of the tabs block\r\n * @author Andrey Glotov\r\n */\r\n\r\nimport {makeListbox} from '../../../js/utils';\r\n\r\n// -------------------------- BEGIN MODULE VARIABLES --------------------------\r\nconst TRANSITION_DURATION = 250;\r\nconst MEDIUM_BREAKPOINT   = 768;\r\n\r\nlet verticalLayout = true;\r\n\r\nconst allTabs = [];\r\n// --------------------------- END MODULE VARIABLES ---------------------------\r\n\r\n// --------------------------- BEGIN PUBLIC METHODS ---------------------------\r\nconst tabsProto = {\r\n    _onTabSelect(next, prev) {\r\n        const $prevLink  = this._$links.eq(prev);\r\n        const $prevPanel = this._$panels.eq(prev);\r\n        const $nextLink  = this._$links.eq(next);\r\n        const $nextPanel = this._$panels.eq(next);\r\n\r\n        $prevLink\r\n            .removeClass('tabs__link_active')\r\n            .attr({\r\n                'aria-selected' : 'false',\r\n                'tabindex'      : '-1'\r\n            });\r\n\r\n        $nextLink\r\n            .addClass('tabs__link_active')\r\n            .attr({\r\n                'aria-selected' : 'true',\r\n                'tabindex'      : '0'\r\n            })\r\n            .focus();\r\n\r\n        $prevPanel.addClass('tabs__panel_fade');\r\n        $nextPanel.addClass('tabs__panel_fade');\r\n\r\n        setTimeout(() => {\r\n            $prevPanel\r\n                .removeClass('tabs__panel_fade')\r\n                .removeClass('tabs__panel_active');\r\n            $nextPanel\r\n                .removeClass('tabs__panel_fade')\r\n                .addClass('tabs__panel_active');\r\n        }, TRANSITION_DURATION);\r\n    },\r\n\r\n    setOrientation(orientation) {\r\n        this._$list.attr('aria-orientation', orientation);\r\n        this._logic.setOrientation(orientation);\r\n    },\r\n};\r\n\r\n/**\r\n * Initialize the tabs module.\r\n * @return true\r\n */\r\nexport const initModule = function() {\r\n    $('.tabs').each(function() {\r\n        const $container = $(this);\r\n\r\n        const tabs = Object.create(tabsProto);\r\n\r\n        tabs._$list    = $container.find('.tabs__list');\r\n        tabs._$links   = tabs._$list.find('.tabs__link');\r\n        tabs._$panels  = $container.find('.tabs__panel');\r\n\r\n        tabs._logic    = makeListbox(tabs._$list, tabs._$links, {\r\n            orientation : 'vertical',\r\n            onSelect    : tabs._onTabSelect.bind(tabs),\r\n        });\r\n\r\n        allTabs.push(tabs);\r\n    });\r\n\r\n    return true;\r\n};\r\n\r\n/**\r\n * Respond to window resize event.\r\n */\r\nexport const handleResize = function() {\r\n    const screenWidth = $(window).outerWidth();\r\n    \r\n    // Switch tabs orientation to vertical on mobile and to horizontal on\r\n    // larger screens.\r\n    if (!verticalLayout && (screenWidth < MEDIUM_BREAKPOINT)) {\r\n        verticalLayout = true;\r\n\r\n        allTabs.forEach(function(tab) {\r\n            tab.setOrientation('vertical');\r\n        });\r\n    } else if (verticalLayout && (screenWidth >= MEDIUM_BREAKPOINT)) {\r\n        verticalLayout = false;\r\n\r\n        allTabs.forEach(function(tab) {\r\n            tab.setOrientation('horizontal');\r\n        });\r\n    }\r\n};\r\n// ---------------------------- END PUBLIC METHODS ----------------------------\r\n","/**\r\n * @file Implementation of the map block\r\n * @author Andrey Glotov\r\n */\r\n\r\n/* global google */\r\n\r\n// -------------------------- BEGIN MODULE VARIABLES --------------------------\r\nconst ZOOM = 11;\r\n\r\nconst coords = {\r\n    lat : 40.7,\r\n    lng : -73.6\r\n};\r\n\r\nconst style = [{\r\n    featureType : 'water',\r\n    elementType : 'geometry',\r\n    stylers     : [{\r\n        color     : '#e9e9e9',\r\n    },{\r\n        lightness : 17,\r\n    }],\r\n}, {\r\n    featureType : 'landscape',\r\n    elementType : 'geometry',\r\n    stylers     : [{\r\n        color     : '#f5f5f5',\r\n    }, {\r\n        lightness : 20,\r\n    }],\r\n}, {\r\n    featureType : 'road.highway',\r\n    elementType : 'geometry.fill',\r\n    stylers     : [{\r\n        color     : '#ffffff',\r\n    }, {\r\n        lightness : 17,\r\n    }],\r\n}, {\r\n    featureType : 'road.highway',\r\n    elementType : 'geometry.stroke',\r\n    stylers     : [{\r\n        color     : '#ffffff',\r\n    }, {\r\n        lightness : 29,\r\n    }, {\r\n        weight    : 0.2,\r\n    }],\r\n}, {\r\n    featureType : 'road.arterial',\r\n    elementType : 'geometry',\r\n    stylers     : [{\r\n        color     : '#ffffff',\r\n    }, {\r\n        lightness : 18,\r\n    }],\r\n}, {\r\n    featureType : 'road.local',\r\n    elementType : 'geometry',\r\n    stylers     : [{\r\n        color     : '#ffffff',\r\n    }, {\r\n        lightness : 16,\r\n    }],\r\n}, {\r\n    featureType : 'poi',\r\n    elementType : 'geometry',\r\n    stylers     : [{\r\n        color     : '#f5f5f5',\r\n    }, {\r\n        lightness : 21,\r\n    }],\r\n}, {\r\n    featureType : 'poi.park',\r\n    elementType : 'geometry',\r\n    stylers     : [{\r\n        color     : '#dedede',\r\n    }, {\r\n        lightness : 21,\r\n    }],\r\n}, {\r\n    elementType : 'labels.text.stroke',\r\n    stylers     : [{\r\n        visibility : 'on',\r\n    }, {\r\n        color      : '#ffffff',\r\n    }, {\r\n        lightness  : 16,\r\n    }],\r\n}, {\r\n    elementType : 'labels.text.fill',\r\n    stylers     : [{\r\n        saturation : 36,\r\n    }, {\r\n        color      : '#333333',\r\n    }, {\r\n        lightness  : 40,\r\n    }],\r\n}, {\r\n    elementType : 'labels.icon',\r\n    stylers     : [{\r\n        visibility : 'off'\r\n    }],\r\n}, {\r\n    featureType : 'transit',\r\n    elementType : 'geometry',\r\n    stylers     : [{\r\n        color     : '#f2f2f2',\r\n    }, {\r\n        lightness : 19,\r\n    }],\r\n}, {\r\n    featureType : 'administrative',\r\n    elementType : 'geometry.fill',\r\n    stylers     : [{\r\n        color     : '#fefefe',\r\n    }, {\r\n        lightness : 20,\r\n    }],\r\n}, {\r\n    featureType : 'administrative',\r\n    elementType : 'geometry.stroke',\r\n    stylers     : [{\r\n        color     : '#fefefe',\r\n    }, {\r\n        lightness : 17,\r\n    }, {\r\n        weight    : 1.2,\r\n    }],\r\n}];\r\n// --------------------------- END MODULE VARIABLES ---------------------------\r\n\r\n// --------------------------- BEGIN PUBLIC METHODS ---------------------------\r\n/**\r\n * Initialize the map module.\r\n * @return true;\r\n */\r\nexport const initModule = function() {\r\n    $('.map__container').each(function() {\r\n        const map = new google.maps.Map(this, {\r\n            zoom             : ZOOM,\r\n            center           : coords,\r\n            disableDefaultUI : true,\r\n        });\r\n\r\n        map.mapTypes.set('styled_map', new google.maps.StyledMapType(style));\r\n        map.setMapTypeId('styled_map');\r\n\r\n        const mapMarker = new google.maps.Marker({\r\n            position : coords,\r\n            map      : map\r\n        });\r\n        mapMarker.setIcon('img/map-marker.png');\r\n    });\r\n};\r\n// ---------------------------- END PUBLIC METHODS ----------------------------\r\n","/**\r\n * @file Implementation of the reservation form block\r\n * @author Andrey Glotov\r\n */\r\n\r\n/* global Pikaday, moment */\r\n\r\n// -------------------------- BEGIN MODULE VARIABLES --------------------------\r\nconst openingHours = [\r\n    {start: 10, end: 21}, // Sun\r\n    {start: 9,  end: 22}, // Mon\r\n    {start: 9,  end: 22}, // Tue\r\n    {start: 9,  end: 22}, // Wed\r\n    {start: 9,  end: 22}, // Thu\r\n    {start: 9,  end: 22}, // Fri\r\n    {start: 10, end: 21}, // Sat\r\n];\r\n// --------------------------- END MODULE VARIABLES ---------------------------\r\n\r\n// -------------------------- BEGIN UTILITY FUNCTIONS -------------------------\r\nconst getStartMoment = function() {\r\n    const currentMoment = moment();\r\n\r\n    // Reservation must be done at least 30 minutes ahead \r\n    currentMoment.add(30, 'minutes');\r\n\r\n    // Round up to nearest half hour\r\n    if ((currentMoment.minutes() % 30) !== 0) {\r\n        currentMoment.add(30 - (currentMoment.minutes() % 30), 'minutes');\r\n    }\r\n\r\n    // If it's too late, allow reservation from only the next day\r\n    if (currentMoment.hours() >= openingHours[currentMoment.day()].end) {\r\n        return moment({\r\n            year  : currentMoment.year(),\r\n            month : currentMoment.month(),\r\n            date  : currentMoment.date() + 1,\r\n        });\r\n    }\r\n\r\n    return currentMoment;\r\n};\r\n\r\nconst getAvailableTimes = function(startMoment) {\r\n    const hours = openingHours[startMoment.day()];\r\n\r\n    const m = moment.max(\r\n        moment(startMoment),\r\n        moment(startMoment).hours(hours.start)\r\n    );\r\n\r\n    const timeArray = [];\r\n\r\n    while (m.hour() < hours.end) {\r\n        timeArray.push(m.format('h:mm A'));\r\n        m.add(30, 'minutes');\r\n    }\r\n\r\n    return timeArray;\r\n};\r\n// --------------------------- END UTILITY FUNCTIONS --------------------------\r\n\r\n// ----------------------------- BEGIN DOM METHODS ----------------------------\r\nconst updateTimeSelect = function($time, startMoment) {\r\n    const timeArray    = getAvailableTimes(startMoment);\r\n    const selectedTime = $time.val();\r\n\r\n    const $options  = timeArray.map(function(time) {\r\n        return $('<option></option>')\r\n            .val(time)\r\n            .text(time)\r\n            .prop('selected', time == selectedTime);\r\n    });\r\n\r\n    $time\r\n        .empty()\r\n        .append($options)\r\n        .trigger('change');\r\n};\r\n\r\nconst initSelect = function($select) {\r\n    $select.select2({\r\n        theme                   : 'theme--default',\r\n        width                   : 'style',\r\n        minimumResultsForSearch : Infinity,\r\n    });\r\n\r\n    const data = $select.data('select2');\r\n    data.$container.addClass('reservation-form__input');\r\n    data.$selection.attr('aria-labelledby', $select.attr('aria-labelledby'));\r\n};\r\n// ------------------------------ END DOM METHODS -----------------------------\r\n\r\n// --------------------------- BEGIN PUBLIC METHODS ---------------------------\r\n/**\r\n * Initialize the reservation form module.\r\n * @return true\r\n */\r\nexport const initModule = function() {\r\n    const startMoment = getStartMoment();\r\n\r\n    $('.reservation-form').each(function() {\r\n        const $form   = $(this);\r\n        const $date   = $form.find('.reservation-form__date');\r\n        const $time   = $form.find('.reservation-form__time');\r\n        const $people = $form.find('.reservation-form__people');\r\n    \r\n        new Pikaday({\r\n            field          : $date.get(0),\r\n    \r\n            defaultDate    : startMoment.toDate(),\r\n            setDefaultDate : true,\r\n    \r\n            // Reservations can be made up to 6 months in advance\r\n            minDate        : startMoment.toDate(),\r\n            maxDate        : moment(startMoment).add(6, 'months').toDate(),\r\n    \r\n            format         : 'DD/MM/YYYY',\r\n            theme          : 'date-picker',\r\n    \r\n            onSelect       : function onSelectDate() {\r\n                updateTimeSelect($time, this.getMoment());\r\n            },\r\n        });\r\n\r\n        initSelect($time);\r\n        initSelect($people);\r\n\r\n        updateTimeSelect($time, startMoment);\r\n\r\n        $form.validate({\r\n            rules: {\r\n                date: {\r\n                    required  : true,\r\n                    validDate : true,\r\n                }\r\n            },\r\n            \r\n            errorClass  : 'error reservation-form__error',\r\n\r\n            highlight   : function(element) {\r\n                $(element).addClass('input_invalid');\r\n            },\r\n            unhighlight : function(element) {\r\n                $(element).removeClass('input_invalid');\r\n            },\r\n        });\r\n    });\r\n\r\n    return true;\r\n};\r\n// ---------------------------- END PUBLIC METHODS ----------------------------","/**\r\n * @file Implementation of the slider block\r\n * @author Andrey Glotov\r\n */\r\n\r\n// --------------------------- BEGIN EVENT HANDLERS ---------------------------\r\nconst onSlickBeforeChange = function(event, slick, current, next) {\r\n    // Remove the \"active\" modifier from the previous slide and apply it to the\r\n    // current one\r\n    slick.$slides.eq(current).removeClass('slider__slide_active');\r\n    slick.$slides.eq(next).addClass('slider__slide_active');\r\n};\r\n// ---------------------------- END EVENT HANDLERS ----------------------------\r\n\r\n// ---------------------------- BEGIN PUBLIC METHODS --------------------------\r\n/**\r\n * Initialize the slider module.\r\n * @return true\r\n */\r\nexport const initModule = function() {\r\n    $('.slider').each(function() {\r\n        const $slider    = $(this);\r\n        const $container = $('.slider__container', $slider);\r\n        const $prevArrow = $('.slider__arrow_dir_prev', $slider);\r\n        const $nextArrow = $('.slider__arrow_dir_next', $slider);\r\n\r\n        $container.slick({\r\n            rows          : 0,\r\n\r\n            prevArrow     : $prevArrow,\r\n            nextArrow     : $nextArrow,\r\n\r\n            autoplay      : true,\r\n            autoplaySpeed : 5000,\r\n\r\n            cssEase       : 'linear',\r\n            fade          : true,\r\n            speed         : 500,\r\n            zIndex        : 1,\r\n\r\n            pauseOnFocus  : false,\r\n            pauseOnHover  : false,\r\n        });\r\n\r\n        $container.on('beforeChange', onSlickBeforeChange);\r\n    });\r\n};\r\n// ----------------------------- END PUBLIC METHODS ---------------------------","/**\r\n * @file Implementation of the specials slider block\r\n * @author Andrey Glotov\r\n */\r\n\r\n// -------------------------- BEGIN MODULE VARIABLES --------------------------\r\nconst GUTTER_WIDTH        = 25;\r\nconst MIN_OPACITY         = 0.5;\r\nconst MIN_SCALE           = 0.8;\r\nconst TRANSITION_DURATION = 150;\r\n// --------------------------- END MODULE VARIABLES ---------------------------\r\n\r\nconst sliderProto = {\r\n    applySlideStyles($slide, order) {\r\n        const {dOffset, dOpacity, dScale} = this._params;\r\n\r\n        $slide.css({\r\n            left      : (order * dOffset) + '%',\r\n            opacity   : (1 - (order * dOpacity)),\r\n            transform : `scale(${1 - (order * dScale)})`,\r\n            zIndex    : this._$slides.length - order,\r\n        });\r\n    },\r\n\r\n    updateStyles() { \r\n        const total    = this._$slides.length;\r\n    \r\n        this._$slides.each((i, slide) => {\r\n            const $slide = $(slide);\r\n\r\n            if ($slide.hasClass('specials-slider__slide_moving')) {\r\n                return;\r\n            }\r\n\r\n            const order = (i - this._activeIndex + total) % total;\r\n            this.applySlideStyles($slide, order);\r\n        });\r\n    },\r\n\r\n    prevSlide() {\r\n        if (this._isSliding) {\r\n            return;\r\n        }\r\n        this._isSliding = true;\r\n\r\n        let activeIndex    = this._activeIndex;\r\n        const $slides      = this._$slides;\r\n\r\n        const $prevSlide = $slides.eq(activeIndex);\r\n\r\n        activeIndex--;\r\n        if (activeIndex < 0) {\r\n            activeIndex = $slides.length - 1;\r\n        }\r\n        this._activeIndex = activeIndex;\r\n\r\n        const $movingSlide = $slides.eq(activeIndex);\r\n        \r\n        $movingSlide.addClass('specials-slider__slide_moving');\r\n        $movingSlide.css('zIndex', '-=1');\r\n        \r\n        setTimeout(() => {\r\n            this.updateStyles();\r\n            \r\n            setTimeout(() => {\r\n                $prevSlide.removeClass('specials-slider__slide_active');\r\n                $movingSlide.removeClass('specials-slider__slide_moving');\r\n                $movingSlide.addClass('specials-slider__slide_active');\r\n                \r\n                this.applySlideStyles($movingSlide, 0);\r\n\r\n                this._isSliding = false;\r\n            }, TRANSITION_DURATION);\r\n        }, TRANSITION_DURATION);\r\n    },\r\n\r\n    nextSlide() {\r\n        if (this._isSliding) {\r\n            return;\r\n        }\r\n        this._isSliding = true;\r\n\r\n        let activeIndex    = this._activeIndex;\r\n        const $slides      = this._$slides;\r\n        const $movingSlide = $slides.eq(activeIndex);\r\n        \r\n        $movingSlide.addClass('specials-slider__slide_moving');\r\n        $movingSlide.css('zIndex', '+=1');\r\n        $movingSlide.removeClass('specials-slider__slide_active');\r\n\r\n        activeIndex++;\r\n        if (activeIndex >= $slides.length) {\r\n            activeIndex = 0;\r\n        }\r\n        this._activeIndex = activeIndex;\r\n\r\n        const $nextSlide = $slides.eq(activeIndex);\r\n        $nextSlide.addClass('specials-slider__slide_active');\r\n        \r\n        setTimeout(() => {\r\n            this.updateStyles();\r\n            \r\n            setTimeout(() => {\r\n                $movingSlide.removeClass('specials-slider__slide_moving');\r\n                \r\n                this.applySlideStyles($movingSlide, $slides.length - 1);\r\n\r\n                this._isSliding = false;\r\n            }, TRANSITION_DURATION);\r\n        }, TRANSITION_DURATION);\r\n    },\r\n};\r\n\r\n// --------------------------- BEGIN PUBLIC METHODS ---------------------------\r\n/**\r\n * Initialize the specials slider module.\r\n * @return true\r\n */\r\nexport const initModule = function() {\r\n    $('.specials-slider').each(function() {\r\n        const $slider    = $(this);\r\n        const $slides    = $slider.find('.specials-slider__slide');\r\n        const $prevArrow = $slider.find('.specials-slider__arrow_dir_prev');\r\n        const $nextArrow = $slider.find('.specials-slider__arrow_dir_next');\r\n\r\n        const slider = Object.create(sliderProto);\r\n\r\n        slider._$slides     = $slides;\r\n        slider._isSliding   = false;\r\n        slider._activeIndex = 0;\r\n\r\n        const steps    = $slides.length - 1;\r\n        slider._params = {\r\n            dOffset  : GUTTER_WIDTH / steps,\r\n            dOpacity : (1 - MIN_OPACITY) / steps,\r\n            dScale   : (1 - MIN_SCALE) / steps,\r\n        };\r\n\r\n        $prevArrow.click(slider.prevSlide.bind(slider));\r\n        $nextArrow.click(slider.nextSlide.bind(slider));\r\n\r\n        slider.updateStyles();\r\n    });\r\n\r\n    return true;\r\n};\r\n// ---------------------------- END PUBLIC METHODS ----------------------------","/**\r\n * @file Implementation of the portfolio block\r\n * @author Andrey Glotov\r\n */\r\n\r\nimport * as PortfolioFilter from '../portfolio-filter/portfolio-filter';\r\nimport * as PortfolioGrid   from '../portfolio-grid/portfolio-grid';\r\n\r\n// -------------------------- BEGIN MODULE VARIABLES --------------------------\r\nconst MEDIUM_BREAKPOINT = 768;\r\nconst FAKE_LOAD_TIME    = 1000;\r\n\r\nlet $portfolio, $grid, $moreBtn;\r\n\r\nlet activeFilter   = 'all';\r\nlet verticalLayout = true;\r\n\r\nconst fakeItems = [{\r\n    title: 'Apple pie',\r\n    image: 'img/content/portfolio/projects/thumbs/apple-pie.jpg',\r\n    link: 'portfolio-single.html',\r\n    categories: ['desserts'],\r\n}, {\r\n    title: 'Fresh fruit cocktail',\r\n    image: 'img/content/portfolio/projects/thumbs/fresh-fruit-cocktail.jpg',\r\n    link: 'portfolio-single.html',\r\n    categories: ['drinks'],\r\n}, {\r\n    title: 'Green tea',\r\n    image: 'img/content/portfolio/projects/thumbs/green-tea.jpg',\r\n    link: 'portfolio-single.html',\r\n    categories: ['drinks'],\r\n}, {\r\n    title: 'Waffles with coffee',\r\n    image: 'img/content/portfolio/projects/thumbs/waffles-with-coffee.jpg',\r\n    link: 'portfolio-single.html',\r\n    categories: ['desserts', 'drinks'],\r\n}, {\r\n    title: 'Chicken livers',\r\n    image: 'img/content/portfolio/projects/thumbs/chicken-livers.jpg',\r\n    link: 'portfolio-single.html',\r\n    categories: ['lunch'],\r\n}];\r\n// --------------------------- END MODULE VARIABLES ---------------------------\r\n\r\n// -------------------------- BEGIN UTILITY FUNCTIONS -------------------------\r\nconst loadFakeItems = function() {\r\n    const $d = new $.Deferred();\r\n\r\n    setTimeout(() => {\r\n        $d.resolve({\r\n            items : fakeItems,\r\n            more  : false,\r\n        }); \r\n    }, FAKE_LOAD_TIME);\r\n\r\n    return $d.promise();\r\n};\r\n\r\nconst loadImage = function(src) {\r\n    const $d = new $.Deferred();\r\n\r\n    const image = new Image();\r\n    $(image).on('load', function() {\r\n        $d.resolve();\r\n    });\r\n    image.src = src;\r\n\r\n    return $d.promise();\r\n};\r\n// --------------------------- END UTILITY FUNCTIONS --------------------------\r\n\r\n// --------------------------- BEGIN EVENT HANDLERS ---------------------------\r\nconst onFilterChange = function(event, filter) {\r\n    if (activeFilter !== filter) {\r\n        activeFilter = filter;\r\n\r\n        PortfolioFilter.setFilter(filter);\r\n        PortfolioGrid.setFilter(filter);\r\n    }\r\n};\r\n\r\nconst onMoreBtnClick = function() {\r\n    $grid.attr('aria-busy', 'true');\r\n\r\n    // Show a loader\r\n    const $loader = $('<div></div>')\r\n        .addClass('loader loader_size_l portfolio__loader')\r\n        .insertAfter($moreBtn);\r\n\r\n    // Hide the button\r\n    $moreBtn.addClass('portfolio__more-btn_hidden');\r\n\r\n    let data;\r\n\r\n    loadFakeItems()\r\n        .then(function onItemsLoaded(response) {\r\n            data = response;\r\n\r\n            // Wait until all images are loaded \r\n            return $.when(...response.items.map(function(item) {\r\n                return loadImage(item.image);\r\n            }));\r\n        })\r\n        .then(function onImagesLoaded() {\r\n            $grid.attr('aria-busy', 'false');\r\n\r\n            PortfolioGrid.addItems(data.items);\r\n\r\n            // If there are more items available, show the button again\r\n            if (data.more) {\r\n                $moreBtn.removeClass('portfolio__more-btn_hidden');\r\n            }\r\n        })\r\n        .fail(function onFail() {\r\n            // Display an error message\r\n            const $error = $('<div></div>')\r\n                .addClass('error portfolio__error')\r\n                .text('An error occured');\r\n            $error.insertAfter($loader);\r\n        })\r\n        .always(function onLoadFail() {\r\n            // Hide the loader\r\n            $loader.remove();\r\n        });\r\n};\r\n// ---------------------------- END EVENT HANDLERS ----------------------------\r\n\r\n// --------------------------- BEGIN PUBLIC METHODS ---------------------------\r\n/**\r\n * Initialize the portfolio module.\r\n * @return true if the portfolio block is present, false otherwise\r\n */\r\nexport const initModule = function() {\r\n    $portfolio = $('.portfolio');\r\n    if ($portfolio.length === 0) {\r\n        return false;\r\n    }\r\n\r\n    $grid    = $portfolio.find('.portfolio__grid');\r\n    $moreBtn = $portfolio.find('.portfolio__more-btn');\r\n\r\n    PortfolioFilter.initModule();\r\n    PortfolioGrid.initModule();\r\n\r\n    $portfolio.on('filter', onFilterChange);\r\n\r\n    $moreBtn.click(onMoreBtnClick);\r\n\r\n    return true;\r\n};\r\n\r\n/**\r\n * Respond to window resize event.\r\n */\r\nexport const handleResize = function() {\r\n    if ($portfolio.length === 0) {\r\n        return;\r\n    }\r\n\r\n    const screenWidth = $(window).outerWidth();\r\n    \r\n    // Switch listbox orientation to vertical on mobile and to horizontal on\r\n    // larger screens.\r\n    if (!verticalLayout && (screenWidth < MEDIUM_BREAKPOINT)) {\r\n        verticalLayout = true;\r\n\r\n        PortfolioFilter.setOrientation('vertical');\r\n    } else if (verticalLayout && (screenWidth >= MEDIUM_BREAKPOINT)) {\r\n        verticalLayout = false;\r\n\r\n        PortfolioFilter.setOrientation('horizontal');\r\n    }\r\n};\r\n// ---------------------------- END PUBLIC METHODS ----------------------------","/**\r\n * @file Implementation of the product gallery block\r\n * @author Andrey Glotov\r\n */\r\n\r\n// -------------------------- BEGIN MODULE VARIABLES --------------------------\r\nlet $gallery, $slider, $links;\r\n// --------------------------- END MODULE VARIABLES ---------------------------\r\n\r\n// --------------------------- BEGIN EVENT HANDLERS ---------------------------\r\nconst onSliderBeforechange = function(event, slick, currentSlide, nextSlide) {\r\n    $links.each(function() {\r\n        const $link = $(this);\r\n        $link.toggleClass(\r\n            'product-gallery__thumb-link_active',\r\n            $link.attr('data-slide') == nextSlide\r\n        );\r\n    });\r\n};\r\n\r\nconst onLinkClick = function(event) {\r\n    event.preventDefault();\r\n    $slider.slick('slickGoTo', $(this).attr('data-slide'));\r\n};\r\n// ---------------------------- END EVENT HANDLERS ----------------------------\r\n\r\n// --------------------------- BEGIN PUBLIC METHODS ---------------------------\r\n/**\r\n * Initialize the product gallery module.\r\n * @return true if the product gallery block is present, false otherwise\r\n */\r\nexport const initModule = function() {\r\n    $gallery = $('.product-gallery');\r\n    if ($gallery.length === 0) {\r\n        return false;\r\n    }\r\n\r\n    $links = $gallery.find('.product-gallery__thumb-link');\r\n\r\n    $slider = $gallery.find('.product-gallery__container');\r\n    $slider.slick({\r\n        rows      : 0,\r\n        slide      : '.product-gallery__slide',\r\n\r\n        arrows    : false,\r\n        dots      : false,\r\n\r\n        fade       : true,\r\n        speed      : 400,\r\n        zIndex     : 1,\r\n\r\n        responsive : [{\r\n            breakpoint : 768,\r\n            settings   : {\r\n                dots: true\r\n            }\r\n        }]\r\n    });\r\n\r\n    $slider.on('beforeChange', onSliderBeforechange);\r\n    $gallery.on('click', '.product-gallery__thumb-link', onLinkClick);\r\n\r\n    return false;\r\n};\r\n// ---------------------------- END PUBLIC METHODS ----------------------------\r\n","/**\r\n * @file Implementation of the mini cart block\r\n * @author Andrey Glotov\r\n */\r\n\r\nimport {makeDropdown} from '../../../js/utils';\r\n\r\n// --------------------------- BEGIN PUBLIC METHODS ---------------------------\r\n/**\r\n * Initialize the mini cart module.\r\n * @return true\r\n */\r\nexport const initModule = function() {\r\n    const $minicart = $('.mini-cart');\r\n    const $toggle   = $minicart.find('.mini-cart__toggle');\r\n\r\n    makeDropdown($minicart, $toggle, {\r\n        hoverToggles : true,\r\n\r\n        onToggle     : function onMinicartToggle(open) {\r\n            $minicart.toggleClass('mini-cart_open', open);\r\n            $toggle.attr('aria-expanded', String(open));\r\n        },\r\n    });\r\n\r\n    return true;\r\n};\r\n// ---------------------------- END PUBLIC METHODS ----------------------------\r\n","/**\r\n * @file Implementation of the checkout block\r\n * @author Andrey Glotov\r\n */\r\n\r\n// ----------------------------- BEGIN DOM METHODS ----------------------------\r\nconst initSelect = function() {\r\n    $(this)\r\n        .select2({\r\n            theme                   : 'theme--checkout',\r\n            width                   : 'style',\r\n            minimumResultsForSearch : Infinity,\r\n        })\r\n        .data('select2')\r\n        .$container\r\n        .addClass('checkout__input');\r\n};\r\n// ------------------------------ END DOM METHODS -----------------------------\r\n\r\n// --------------------------- BEGIN EVENT HANDLERS ---------------------------\r\nconst onCheckboxChange = function() {\r\n    const $target = $('#' + $(this).data('toggle'));\r\n    $target.slideToggle();\r\n};\r\n// ---------------------------- END EVENT HANDLERS ----------------------------\r\n\r\n// --------------------------- BEGIN PUBLIC METHODS ---------------------------\r\n/**\r\n * Initialize the checkout module.\r\n * @return true if the block is present; false otherwise\r\n */\r\nexport const initModule = function() {\r\n    const $form = $('.checkout');\r\n    if ($form.length === 0) {\r\n        return false;\r\n    }\r\n\r\n    const $selects  = $form.find('.checkout__select');\r\n    $selects.each(initSelect);\r\n\r\n    const $shipping = $form.find('#shipping-fields');\r\n    $shipping.hide();\r\n\r\n    const $checkboxes = $form.find('.checkout__check-input');\r\n    $checkboxes.change(onCheckboxChange);\r\n\r\n    $form.validate({\r\n        errorClass     : 'error checkout__error',\r\n    \r\n        ignore         : '.checkout__input:hidden',\r\n    \r\n        highlight: function(element) {\r\n            if ($(element).hasClass('input')) {\r\n                $(element).addClass('input_invalid');\r\n            }\r\n        },\r\n    \r\n        unhighlight    : function(element) {\r\n            if ($(element).hasClass('input')) {\r\n                $(element).removeClass('input_invalid');\r\n            }\r\n        },\r\n    \r\n        errorPlacement : function(error, element) {\r\n            if (element.attr('name') === 'payment') {\r\n                element\r\n                    .closest('.checkout__payments')\r\n                    .prepend(error);\r\n            } else {\r\n                error.insertAfter(element);\r\n            }\r\n        },\r\n    \r\n        // messages       : {\r\n        //     payment: 'Please select a payment method',\r\n        // },\r\n    });\r\n\r\n    return true;\r\n};\r\n// ---------------------------- END PUBLIC METHODS ----------------------------\r\n\r\n// $('.checkout__toggle-input').change(function() {\r\n//     $('#' + $(this).data('target-id')).slideToggle();\r\n// });\r\n\r\n// $('.checkout__payment-item').click(function() {\r\n//     $('.checkout__payment-radio', $(this))\r\n//         .prop('checked', true)\r\n//         .change();\r\n// });\r\n\r\n// $('.checkout__payment-radio').change(function() {\r\n//     $(this)\r\n//         .closest('.checkout__payments')\r\n//         .find('.checkout__payment-item')\r\n//         .each(function() {\r\n//             const isChecked = $('.checkout__payment-radio', $(this))\r\n//                 .prop('checked');\r\n            \r\n//             if (isChecked) {\r\n//                 $('.checkout__payment-desc', $(this))\r\n//                     .slideDown();\r\n//             } else {\r\n//                 $('.checkout__payment-desc', $(this))\r\n//                     .slideUp();\r\n//             }\r\n//         });\r\n// });\r\n","/**\r\n * @file Implementation of the product block\r\n * @author Andrey Glotov\r\n */\r\n\r\n// -------------------------- BEGIN MODULE VARIABLES --------------------------\r\nconst RESPONSE_TIME = 1000;\r\n// --------------------------- END MODULE VARIABLES ---------------------------\r\n\r\n// -------------------------- BEGIN UTILITY FUNCTIONS -------------------------\r\nconst fakeRequest = function() {\r\n    const $d = $.Deferred();\r\n\r\n    // Mock a server request\r\n    setTimeout(function() {\r\n        $d.resolve();\r\n    }, RESPONSE_TIME);\r\n\r\n    return $d.promise();\r\n};\r\n// --------------------------- END UTILITY FUNCTIONS --------------------------\r\n\r\n// --------------------------- BEGIN EVENT HANDLERS ---------------------------\r\nconst onAddBtnClick = function() {\r\n    const $loader = $('<span></span>')\r\n        .addClass('loader loader_size_s product__add-loader')\r\n        .insertAfter($(this));\r\n\r\n    $(this).remove();\r\n\r\n    fakeRequest().then(function onItemAdded() {\r\n        $('<a></a>')\r\n            .attr('href', 'shop-cart.html')\r\n            .addClass('product__cart-link')\r\n            .text('Product added')\r\n            .insertAfter($loader)\r\n            .focus();\r\n\r\n        $loader.remove();\r\n    });\r\n};\r\n\r\nconst onProductFocusin = function() {\r\n    $(this).addClass('product_has-focus');\r\n};\r\n\r\nconst onProductFocusout = function() {\r\n    $(this).removeClass('product_has-focus');\r\n};\r\n// ---------------------------- END EVENT HANDLERS ----------------------------\r\n\r\n// --------------------------- BEGIN PUBLIC METHODS ---------------------------\r\n/**\r\n * Initialize the shop filter module.\r\n * @return true\r\n */\r\nexport const initModule = function() {\r\n    $('.product').each(function() {\r\n        const $product = $(this);\r\n        const $addBtn  = $product.find('.product__add-btn');\r\n\r\n        $addBtn.click(onAddBtnClick);\r\n\r\n        // Until all major browsers support the :focus-within CSS pseudo-class\r\n        // apply a class using JavaScript\r\n        $product\r\n            .focusin(onProductFocusin)\r\n            .focusout(onProductFocusout);\r\n    });\r\n\r\n    return true;\r\n};\r\n// ---------------------------- END PUBLIC METHODS ----------------------------\r\n","/**\r\n * @file Implementation of the page block\r\n * @author Andrey Glotov\r\n */\r\n\r\nimport * as Header          from '../header/header';\r\nimport * as Minicart        from '../mini-cart/mini-cart';\r\nimport * as Nav             from '../nav/nav';\r\nimport * as Search          from '../search/search';\r\nimport * as Tabs            from '../tabs/tabs';\r\n\r\nimport * as AboutGallery    from '../../about/about-gallery/about-gallery';\r\nimport * as ContactForm     from '../../contact/contact-form/contact-form';\r\nimport * as ContactMap      from '../../contact/map/map';\r\nimport * as Gallery         from '../../index/gallery/gallery';\r\nimport * as Menu            from '../../menu/menu/menu';\r\nimport * as ReservationForm from '../../reservation/reservation-form/reservation-form';\r\nimport * as Slider          from '../../index/slider/slider';\r\nimport * as SpecialsSlider  from '../../index/specials-slider/specials-slider';\r\n\r\nimport * as Portfolio       from '../../portfolio/portfolio/portfolio';\r\nimport * as ProjectSlider   from '../../portfolio/project-slider/project-slider';\r\n\r\nimport * as BlogGallery     from '../../blog/blog-gallery/blog-gallery';\r\nimport * as Comment         from '../../blog/comment/comment';\r\nimport * as CommentForm     from '../../blog/comment-form/comment-form';\r\nimport * as Share           from '../../blog/share/share';\r\n\r\nimport * as Checkout        from '../../shop/checkout/checkout';\r\nimport * as Payment         from '../../shop/payment/payment';\r\nimport * as Product         from '../../shop/product/product';\r\nimport * as ProductGallery  from '../../shop/product-gallery/product-gallery';\r\nimport * as ReviewForm      from '../../shop/review-form/review-form';\r\nimport * as ShippingCalc    from '../../shop/shipping-calc/shipping-calc';\r\nimport * as ShopFilter      from '../../shop/shop-filter/shop-filter';\r\n\r\n// -------------------------- BEGIN MODULE VARIABLES --------------------------\r\nconst STICKY_HEADER_OFFSET  = 100;  // Scroll offset to make the header \"sticky\"\r\nconst VISIBLE_HEADER_OFFSET = 500;  // Scroll offset to show the \"sticky\" header\r\nconst RESIZE_INTERVAL       = 200;  // Resize debouncing interval\r\nconst SCROLL_INTERVAL       = 200;  // Scroll throttling interval\r\n\r\nconst HeaderStates = {NORMAL: 0, STICKY: 1, VISIBLE: 2};\r\nlet headerState = HeaderStates.NORMAL;\r\n\r\nconst $header = $('.header');\r\nconst isHeaderTransparent = $header.hasClass('header_transparent');\r\n\r\nlet resizeTimer = null;\r\nlet scrollTimer = null;\r\nlet wasScrolled = false;\r\n// --------------------------- END MODULE VARIABLES ---------------------------\r\n\r\n// ---------------------------- BEGIN DOM METHODS -----------------------------\r\n/**\r\n * Add or remove header classes basd on the current scroll offset to create an\r\n * animated sticky header effect.\r\n */\r\nconst updateHeaderStyles = function() {\r\n    const offset = $(window).scrollTop();\r\n    const newState = offset < STICKY_HEADER_OFFSET\r\n        ? HeaderStates.NORMAL\r\n        : (offset < VISIBLE_HEADER_OFFSET\r\n            ? HeaderStates.STICKY\r\n            : HeaderStates.VISIBLE);\r\n\r\n    if (newState !== headerState) {\r\n        if (newState === HeaderStates.NORMAL) {\r\n            $header\r\n                .removeClass('page__header_scroll')\r\n                .removeClass('page__header_hidden')\r\n                .toggleClass('header_transparent', isHeaderTransparent);\r\n        } else {\r\n            $header\r\n                .addClass('page__header_scroll')\r\n                .toggleClass(\r\n                    'page__header_hidden',\r\n                    newState === HeaderStates.STICKY\r\n                )\r\n                .removeClass('header_transparent');\r\n        }\r\n\r\n        headerState = newState;\r\n    }\r\n};\r\n// ----------------------------- END DOM METHODS ------------------------------\r\n\r\n// --------------------------- BEGIN EVENT HANDLERS ---------------------------\r\nconst onWindowScroll = function() {\r\n    updateHeaderStyles();\r\n};\r\n\r\nconst onWindowResize = function() {\r\n    Nav.handleResize();\r\n    Portfolio.handleResize();\r\n    Tabs.handleResize();\r\n};\r\n// ---------------------------- END EVENT HANDLERS ----------------------------\r\n\r\n// --------------------------- BEGIN PUBLIC METHODS ---------------------------\r\n/**\r\n * Initialize the page module.\r\n * @return true\r\n */\r\nexport const initModule = function() {\r\n    // Initialize handlers for window scroll & resize events\r\n    $(window).on({\r\n        // Debounce the window resize event \r\n        resize: function() {\r\n            clearTimeout(resizeTimer);\r\n            resizeTimer = setTimeout(onWindowResize, RESIZE_INTERVAL);\r\n        },\r\n\r\n        // Throttle the window scroll event\r\n        scroll: function() {\r\n            if (scrollTimer) {\r\n                // Ensure that we catch and execute that last invocation\r\n                wasScrolled = true;\r\n                return;\r\n            }\r\n\r\n            onWindowScroll();\r\n\r\n            scrollTimer = this.setTimeout(function() {\r\n                scrollTimer = null;\r\n                if (wasScrolled) {\r\n                    onWindowScroll();\r\n                    wasScrolled = false;\r\n                }\r\n            }, SCROLL_INTERVAL);\r\n        },\r\n    });\r\n\r\n    // Initialize common blocks\r\n    Header.initModule();\r\n    Minicart.initModule();\r\n    Nav.initModule();\r\n    Search.initModule();\r\n    Tabs.initModule();\r\n\r\n    // Initialize inner page blocks\r\n    AboutGallery.initModule();\r\n    ContactForm.initModule();\r\n    ContactMap.initModule();\r\n    Gallery.initModule();\r\n    Menu.initModule();\r\n    ReservationForm.initModule();\r\n    Slider.initModule();\r\n    SpecialsSlider.initModule();\r\n\r\n    // Initialize portfolio blocks\r\n    Portfolio.initModule();\r\n    ProjectSlider.initModule();\r\n\r\n    // Initialize blog blocks\r\n    BlogGallery.initModule();\r\n    Share.initModule();\r\n    Comment.initModule();\r\n    CommentForm.initModule();\r\n\r\n    // Initialize shop blocks\r\n    Checkout.initModule();\r\n    Payment.initModule();\r\n    Product.initModule();\r\n    ProductGallery.initModule();\r\n    ReviewForm.initModule();\r\n    ShippingCalc.initModule();\r\n    ShopFilter.initModule();\r\n\r\n    // Process the initial window size and scroll position\r\n    onWindowResize();\r\n    onWindowScroll();\r\n\r\n    return true;\r\n};\r\n// ---------------------------- END PUBLIC METHODS ----------------------------\r\n","/**\r\n * @file Implementation of the search block\r\n * @author Andrey Glotov\r\n */\r\n\r\n/* global focusTrap */\r\n\r\n// --------------------------- BEGIN PUBLIC METHODS ---------------------------\r\n/**\r\n * Initialize the search module.\r\n * @return true\r\n */\r\nexport const initModule = function() {\r\n    const $page   = $('.page');\r\n    const $search = $('.search');\r\n    const $close  = $search.find('.search__close');\r\n\r\n    const popupFocusTrap = focusTrap($search.get(0), {\r\n        clickOutsideDeactivates : true,\r\n        escapeDeactivates       : true,\r\n        \r\n        onDeactivate            : function onSearchDeactivate() {\r\n            $search.removeClass('search_visible');\r\n        },\r\n    });\r\n\r\n    $page.on('search', function onSearchToggle() {\r\n        $search.addClass('search_visible');\r\n\r\n        // Need to wait 100ms before autofocus works.\r\n        setTimeout(function() {\r\n            popupFocusTrap.activate();\r\n        }, 100);\r\n    });\r\n\r\n    $close.click(function onSearchClose() {\r\n        popupFocusTrap.deactivate();\r\n    });\r\n\r\n    return true;\r\n};\r\n// ---------------------------- END PUBLIC METHODS ----------------------------\r\n","/**\r\n * @file Implementation of the about page gallery block\r\n * @author Andrey Glotov\r\n */\r\n\r\n// --------------------------- BEGIN PUBLIC METHODS ---------------------------\r\n/**\r\n * Initialize the specials carousel module.\r\n * @return true\r\n */\r\nexport const initModule = function() {\r\n    $('.about-gallery').each(function() {\r\n        $(this).magnificPopup({\r\n            delegate  : '.about-gallery__thumb',\r\n            mainClass : 'lightbox',\r\n            gallery   : {\r\n                enabled  : true,\r\n                tCounter : '',\r\n            },\r\n\r\n            closeMarkup : '<button aria-label=\"Close\" type=\"button\" '\r\n                + 'class=\"mfp-close\">&#215;</button>',\r\n            arrowMarkup : '<button aria-label=\"%title%\" type=\"button\" '\r\n                + 'class=\"mfp-arrow mfp-arrow-%dir%\"></button>',\r\n\r\n            callbacks   : {\r\n                beforeOpen() {\r\n                    this.wrap.attr({\r\n                        'role'       : 'dialog',\r\n                        'aria-label' : 'Gallery',\r\n                    });\r\n                },\r\n            },\r\n        });\r\n    });\r\n\r\n    return true;\r\n};\r\n// ---------------------------- END PUBLIC METHODS ----------------------------\r\n","/**\r\n * @file Implementation of the contact form block\r\n * @author Andrey Glotov\r\n */\r\n\r\n// --------------------------- BEGIN PUBLIC METHODS ---------------------------\r\n/**\r\n * Initialize the contact form module.\r\n * @return true\r\n */\r\nexport const initModule = function() {\r\n    $('.contact-form').validate({\r\n        errorClass  : 'error contact-form__error',\r\n    \r\n        highlight   : function(element) {\r\n            if ($(element).hasClass('input')) {\r\n                $(element).addClass('input_invalid');\r\n            } else if ($(element).hasClass('text-area')) {\r\n                $(element).addClass('text-area_invalid');\r\n            }\r\n        },\r\n    \r\n        unhighlight : function(element) {\r\n            if ($(element).hasClass('input')) {\r\n                $(element).removeClass('input_invalid');\r\n            } else if ($(element).hasClass('text-area')) {\r\n                $(element).removeClass('text-area_invalid');\r\n            }\r\n        },\r\n    });\r\n\r\n    return true;\r\n};\r\n// ---------------------------- END PUBLIC METHODS ----------------------------\r\n","/**\r\n * @file Implementation of the gallery block\r\n * @author Andrey Glotov\r\n */\r\n\r\n// --------------------------- BEGIN PUBLIC METHODS ---------------------------\r\n/**\r\n * Initialize the gallery module.\r\n * @return true\r\n */\r\nexport const initModule = function() {\r\n    $('.gallery').each(function() {\r\n        $(this).magnificPopup({\r\n            delegate  : '.gallery__thumb-link',\r\n            mainClass : 'lightbox',\r\n            type      : 'image',\r\n            gallery   : {\r\n                enabled  : true,\r\n                tCounter : '',\r\n            },\r\n\r\n            closeMarkup : '<button aria-label=\"Close\" type=\"button\" '\r\n                + 'class=\"mfp-close\">&#215;</button>',\r\n            arrowMarkup : '<button aria-label=\"%title%\" type=\"button\" '\r\n                + 'class=\"mfp-arrow mfp-arrow-%dir%\"></button>',\r\n\r\n            callbacks   : {\r\n                beforeOpen() {\r\n                    this.wrap.attr({\r\n                        'role'       : 'dialog',\r\n                        'aria-label' : 'Gallery',\r\n                    });\r\n                },\r\n            },\r\n        });\r\n    });\r\n\r\n    return true;\r\n};\r\n// ---------------------------- END PUBLIC METHODS ----------------------------","/**\r\n * @file Implementation of the menu block\r\n * @author Andrey Glotov\r\n */\r\n\r\n// --------------------------- BEGIN PUBLIC METHODS ---------------------------\r\n/**\r\n * Initialize the menu module.\r\n * @return true\r\n */\r\nexport const initModule = function() {\r\n    $('.menu').each(function() {\r\n        $(this).magnificPopup({\r\n            delegate  : '.menu-product__link',\r\n            mainClass : 'lightbox',\r\n            type      : 'image',\r\n\r\n            closeMarkup : '<button aria-label=\"Close\" type=\"button\" '\r\n                + 'class=\"mfp-close\">&#215;</button>',\r\n\r\n            callbacks   : {\r\n                beforeOpen() {\r\n                    this.wrap.attr({\r\n                        'role'       : 'dialog',\r\n                        'aria-label' : 'View image',\r\n                    });\r\n                },\r\n            },\r\n        });\r\n    });\r\n    \r\n    return true;\r\n};\r\n// ---------------------------- END PUBLIC METHODS ----------------------------","/**\r\n * @file Implementation of the project slider block\r\n * @author Andrey Glotov\r\n */\r\n\r\n// --------------------------- BEGIN PUBLIC METHODS ---------------------------\r\n/**\r\n * Initialize the project slider module.\r\n * @return true\r\n */\r\nexport const initModule = function() {\r\n    $('.project-slider__container').slick({\r\n        rows      : 0,\r\n        slide     : '.project-slider__slide',\r\n\r\n        prevArrow : '.project-slider__arrow_dir_prev',\r\n        nextArrow : '.project-slider__arrow_dir_next',\r\n        dots      : true,\r\n\r\n        cssEase   : 'linear',\r\n        speed     : 250,\r\n        zIndex    : 1,\r\n    });\r\n\r\n    return true;\r\n};\r\n// ---------------------------- END PUBLIC METHODS ----------------------------\r\n","/**\r\n * @file Implementation of the blog gallery block\r\n * @author Andrey Glotov\r\n */\r\n\r\n// ---------------------------- BEGIN PUBLIC METHODS --------------------------\r\n/**\r\n * Initialize the blog gallery module.\r\n * @return true\r\n */\r\nexport const initModule = function() {\r\n    $('.blog-gallery__container').slick({\r\n        rows       : 0,\r\n        slide      : '.blog-gallery__slide',\r\n\r\n        prevArrow  : '.blog-gallery__arrow_dir_prev',\r\n        nextArrow  : '.blog-gallery__arrow_dir_next',\r\n        dots       : false,\r\n\r\n        speed      : 250,\r\n        cssEase    : 'linear',\r\n        zIndex     : 1,\r\n\r\n        responsive : [{\r\n            breakpoint : 970,\r\n            settings   : {\r\n                dots : true\r\n            }\r\n        }]\r\n    });\r\n};\r\n// ----------------------------- END PUBLIC METHODS ---------------------------","/**\r\n * @file Implementation of the share block\r\n * @author Andrey Glotov\r\n */\r\n\r\nimport {makeDropdown} from '../../../js/utils';\r\n\r\n// --------------------------- BEGIN PUBLIC METHODS ---------------------------\r\n/**\r\n * Initialize the share module.\r\n * @return true\r\n */\r\nexport const initModule = function() {\r\n    $('.share').each(function() {\r\n        const $share  = $(this);\r\n        const $toggle = $share.find('.share__toggle');\r\n        const $drop   = $share.find('.share__drop');\r\n\r\n        makeDropdown($share, $toggle, {\r\n            hoverToggles : true,\r\n            onToggle     : function onShareToggle(open) {\r\n                $drop.toggleClass('share__drop_visible', open);\r\n                $toggle.attr('aria-expanded', String(open));\r\n            },\r\n        });\r\n    });\r\n\r\n    return true;\r\n};\r\n// ---------------------------- END PUBLIC METHODS ----------------------------","/**\r\n * @file Implementation of the comment block\r\n * @author Andrey Glotov\r\n */\r\n\r\n// --------------------------- BEGIN PUBLIC METHODS ---------------------------\r\n/**\r\n * Initialize the comment module.\r\n * @return true\r\n */\r\nexport const initModule = function() {\r\n    const $commentForm = $('#comment-form');\r\n    const $page        = $('.page');\r\n\r\n    $('.comment__reply-btn').click(function() {\r\n        const id = $(this).closest('.comment').data('id');\r\n    \r\n        $commentForm\r\n            .prependTo($(this)\r\n                .closest('.comment')\r\n                .find('.comment__replies')\r\n                .first());\r\n    \r\n        $page.trigger('comment-reply', id);\r\n    });\r\n\r\n    return true;\r\n};\r\n// ---------------------------- END PUBLIC METHODS ----------------------------\r\n","/**\r\n * @file Implementation of the comment form block\r\n * @author Andrey Glotov\r\n */\r\n\r\n// --------------------------- BEGIN PUBLIC METHODS ---------------------------\r\n/**\r\n * Initialize the comment form module.\r\n * @return true\r\n */\r\nexport const initModule = function() {\r\n    const $page = $('.page');\r\n\r\n    const $form    = $('.comment-form');\r\n    const $replyTo = $form.find('[name=\"reply-to\"]');\r\n\r\n    $form.validate({\r\n        errorClass  : 'error comment-form__error',\r\n    \r\n        highlight   : function(element) {\r\n            if ($(element).hasClass('input')) {\r\n                $(element).addClass('input_invalid');\r\n            } else if ($(element).hasClass('text-area')) {\r\n                $(element).addClass('text-area_invalid');\r\n            }\r\n        },\r\n    \r\n        unhighlight : function(element) {\r\n            if ($(element).hasClass('input')) {\r\n                $(element).removeClass('input_invalid');\r\n            } else if ($(element).hasClass('text-area')) {\r\n                $(element).removeClass('text-area_invalid');\r\n            }\r\n        },\r\n    });\r\n\r\n    $page.on('comment-reply', function(event, id) {      \r\n        $replyTo.val(id);\r\n\r\n        $('html, body').animate({\r\n            scrollTop: $form.offset().top - 100\r\n        }, 400, function() {\r\n            $('.input:first', $form).focus();\r\n        });\r\n    });\r\n\r\n    return true;\r\n};\r\n// ---------------------------- END PUBLIC METHODS ----------------------------\r\n","/**\r\n * @file Implementation of the payment block\r\n * @author Andrey Glotov\r\n */\r\n\r\n// --------------------------- BEGIN PUBLIC METHODS ---------------------------\r\n/**\r\n * Initialize the payment module.\r\n * @return true if the block is present; false otherwise\r\n */\r\nexport const initModule = function() {\r\n    const $payment = $('.payment');\r\n    if ($payment.length === 0) {\r\n        return false;\r\n    }\r\n\r\n    const $radios = $payment.find('.payment__radio');\r\n    const $desc   = $payment.find('.payment__desc');\r\n    $radios.change(function onRadioChange() {\r\n        $desc.slideUp();\r\n\r\n        $(this)\r\n            .closest('.payment__method')\r\n            .find('.payment__desc')\r\n            .slideDown();\r\n    });\r\n\r\n    return true;\r\n};\r\n// ---------------------------- END PUBLIC METHODS ----------------------------\r\n","/**\r\n * @file Implementation of the review form block\r\n * @author Andrey Glotov\r\n */\r\n\r\n// --------------------------- BEGIN PUBLIC METHODS ---------------------------\r\n/**\r\n * Initialize the review form module.\r\n * @return true if the block is present, false otherwise\r\n */\r\nexport const initModule = function() {\r\n    const $form = $('.review-form');\r\n    if ($form.length === 0) {\r\n        return false;\r\n    }\r\n\r\n    $form.validate({\r\n        errorClass     : 'error review-form__error',\r\n    \r\n        errorPlacement : function(error, element) {\r\n            element.closest('.review-form__field').append(error);\r\n        },\r\n    \r\n        highlight      : function(element) {\r\n            if ($(element).hasClass('input')) {\r\n                $(element).addClass('input_invalid');\r\n            } else if ($(element).hasClass('text-area')) {\r\n                $(element).addClass('text-area_invalid');\r\n            }\r\n        },\r\n    \r\n        unhighlight    : function(element) {\r\n            if ($(element).hasClass('input')) {\r\n                $(element).removeClass('input_invalid');\r\n            } else if ($(element).hasClass('text-area')) {\r\n                $(element).removeClass('text-area_invalid');\r\n            }\r\n        },\r\n    });\r\n\r\n    return true;\r\n};\r\n// ---------------------------- END PUBLIC METHODS ----------------------------\r\n","/**\r\n * @file Implementation of the shipping calculator block\r\n * @author Andrey Glotov\r\n */\r\n\r\n// --------------------------- BEGIN PUBLIC METHODS ---------------------------\r\n/**\r\n * Initialize the shipping calculator module.\r\n * @return true if the block is present, false otherwise\r\n */\r\nexport const initModule = function() {\r\n    const $calc = $('.shipping-calc');\r\n    if ($calc.length === 0) {\r\n        return false;\r\n    }\r\n\r\n    const $toggle  = $calc.find('.shipping-calc__toggle');\r\n    const $form    = $calc.find('.shipping-calc__form');\r\n    const $country = $calc.find('.shipping-calc__country');\r\n\r\n    let formExpanded = false;\r\n    $toggle.click(function onShippingCalcToggle() {\r\n        formExpanded = !formExpanded;\r\n\r\n        $form.slideToggle();\r\n        $toggle.attr('aria-expanded', String(formExpanded));\r\n    });\r\n    \r\n    $country\r\n        .select2({\r\n            theme                   : 'theme--small',\r\n            width                   : 'style',\r\n            minimumResultsForSearch : Infinity,\r\n            placeholder             : 'Select a country',\r\n        })\r\n        .data('select2')\r\n        .$container\r\n        .addClass('shipping-calc__input');\r\n\r\n    $form.validate({\r\n        errorClass     : 'error shipping-calc__error',\r\n    \r\n        ignore         : [],\r\n\r\n        errorPlacement : function(error, element) {\r\n            if (element.hasClass('shipping-calc__country')) {\r\n                error.insertAfter(element.next('.shipping-calc__input'));\r\n            } else {\r\n                error.insertAfter(element);\r\n            }\r\n        },\r\n    \r\n        highlight      : function(element) {\r\n            if ($(element).hasClass('input')) {\r\n                $(element).addClass('input_invalid');\r\n            } else if ($(element).hasClass('shipping-calc__country')) {\r\n                $(element)\r\n                    .next('.shipping-calc__input')\r\n                    .addClass('select2-container--error');\r\n            }\r\n        },\r\n    \r\n        unhighlight     : function(element) {\r\n            if ($(element).hasClass('input')) {\r\n                $(element).removeClass('input_invalid');\r\n            } else if ($(element).hasClass('shipping-calc__country')) {\r\n                $(element)\r\n                    .next('.shipping-calc__input')\r\n                    .removeClass('select2-container--error');\r\n            }\r\n        }\r\n    });\r\n    \r\n    return true;\r\n};\r\n// ---------------------------- END PUBLIC METHODS ----------------------------\r\n","/**\r\n * @file Implementation of the shop filter block\r\n * @author Andrey Glotov\r\n */\r\n\r\nimport {makeDropdown} from '../../../js/utils';\r\n\r\n// --------------------------- BEGIN PUBLIC METHODS ---------------------------\r\n/**\r\n * Initialize the shop filter module.\r\n * @return true if the filter block is present, false otherwise\r\n */\r\nexport const initModule = function() {\r\n    const $filter = $('.shop-filter');\r\n    if ($filter.length === 0) {\r\n        return false;\r\n    }\r\n\r\n    const $inner  = $filter.find('.shop-filter__inner');\r\n    const $toggle = $inner.find('.shop-filter__toggle');\r\n    const $list   = $inner.find('.shop-filter__list');\r\n\r\n    makeDropdown($inner, $toggle, {\r\n        hoverToggles : true,\r\n\r\n        onToggle     : function onShopFilterToggle(open) {\r\n            $list.toggleClass('shop-filter__list_visible', open);\r\n\r\n            if (open) {\r\n                $toggle.attr('aria-expanded', 'true');\r\n            } else {\r\n                $toggle.removeAttr('aria-expanded');\r\n            }\r\n        },\r\n    });\r\n\r\n    return true;\r\n};\r\n// ---------------------------- END PUBLIC METHODS ----------------------------\r\n"],"sourceRoot":""}